"use strict";(self.webpackChunkflowmap_gl_docs=self.webpackChunkflowmap_gl_docs||[]).push([[181],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=l.createContext({}),p=function(e){var t=l.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return l.createElement(d.Provider,{value:t},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},m=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,d=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,k=u["".concat(d,".").concat(m)]||u[m]||s[m]||o;return n?l.createElement(k,i(i({ref:t},c),{},{components:n})):l.createElement(k,i({ref:t},c))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var r={};for(var d in t)hasOwnProperty.call(t,d)&&(r[d]=t[d]);r.originalType=e,r[u]="string"==typeof e?e:a,i[1]=r;for(var p=2;p<o;p++)i[p]=n[p];return l.createElement.apply(null,i)}return l.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5256:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var l=n(7462),a=(n(7294),n(3905));const o={sidebar_position:1},i="FlowmapLayer",r={unversionedId:"api/flowmap-layer",id:"api/flowmap-layer",title:"FlowmapLayer",description:"The FlowmapLayer is the main layer class for rendering flow maps. It extends deck.gl's CompositeLayer and renders flows as curved lines and locations as circles.",source:"@site/docs/api/flowmap-layer.md",sourceDirName:"api",slug:"/api/flowmap-layer",permalink:"/docs/api/flowmap-layer",draft:!1,editUrl:"https://github.com/visgl/flowmap.gl-docs/docs/api/flowmap-layer.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docsSidebar",previous:{title:"Svelte Integration",permalink:"/docs/guides/svelte"},next:{title:"Color Schemes",permalink:"/docs/api/color-schemes"}},d={},p=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Props Reference",id:"props-reference",level:2},{value:"Data Props",id:"data-props",level:3},{value:"<code>data</code>",id:"data",level:4},{value:"<code>dataProvider</code>",id:"dataprovider",level:4},{value:"<code>filter</code>",id:"filter",level:4},{value:"Display Props",id:"display-props",level:3},{value:"<code>darkMode</code>",id:"darkmode",level:4},{value:"<code>colorScheme</code>",id:"colorscheme",level:4},{value:"<code>fadeAmount</code>",id:"fadeamount",level:4},{value:"<code>highlightColor</code>",id:"highlightcolor",level:4},{value:"<code>opacity</code>",id:"opacity",level:4},{value:"Feature Toggles",id:"feature-toggles",level:3},{value:"<code>locationsEnabled</code>",id:"locationsenabled",level:4},{value:"<code>locationTotalsEnabled</code>",id:"locationtotalsenabled",level:4},{value:"<code>locationLabelsEnabled</code>",id:"locationlabelsenabled",level:4},{value:"<code>animationEnabled</code>",id:"animationenabled",level:4},{value:"<code>clusteringEnabled</code>",id:"clusteringenabled",level:4},{value:"<code>clusteringAuto</code>",id:"clusteringauto",level:4},{value:"<code>clusteringLevel</code>",id:"clusteringlevel",level:4},{value:"<code>fadeEnabled</code>",id:"fadeenabled",level:4},{value:"<code>fadeOpacityEnabled</code>",id:"fadeopacityenabled",level:4},{value:"<code>adaptiveScalesEnabled</code>",id:"adaptivescalesenabled",level:4},{value:"Performance",id:"performance",level:3},{value:"<code>maxTopFlowsDisplayNum</code>",id:"maxtopflowsdisplaynum",level:4},{value:"Event Handlers",id:"event-handlers",level:3},{value:"<code>onHover</code>",id:"onhover",level:4},{value:"<code>onClick</code>",id:"onclick",level:4},{value:"Accessor Props",id:"accessor-props",level:3},{value:"Location Accessors",id:"location-accessors",level:4},{value:"Flow Accessors",id:"flow-accessors",level:4},{value:"PickingInfo Types",id:"pickinginfo-types",level:2},{value:"Location Picking Info",id:"location-picking-info",level:3},{value:"Flow Picking Info",id:"flow-picking-info",level:3},{value:"Full Example",id:"full-example",level:2}],c={toc:p};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,l.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"flowmaplayer"},"FlowmapLayer"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"FlowmapLayer")," is the main layer class for rendering flow maps. It extends deck.gl's ",(0,a.kt)("inlineCode",{parentName:"p"},"CompositeLayer")," and renders flows as curved lines and locations as circles."),(0,a.kt)("h2",{id:"basic-usage"},"Basic Usage"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import {FlowmapLayer} from '@flowmap.gl/layers';\n\nconst layer = new FlowmapLayer({\n  id: 'flowmap-layer',\n  data: {locations, flows},\n  getLocationId: (loc) => loc.id,\n  getLocationLat: (loc) => loc.lat,\n  getLocationLon: (loc) => loc.lon,\n  getFlowOriginId: (flow) => flow.origin,\n  getFlowDestId: (flow) => flow.dest,\n  getFlowMagnitude: (flow) => flow.count,\n});\n")),(0,a.kt)("h2",{id:"props-reference"},"Props Reference"),(0,a.kt)("h3",{id:"data-props"},"Data Props"),(0,a.kt)("h4",{id:"data"},(0,a.kt)("inlineCode",{parentName:"h4"},"data")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"FlowmapData<L, F>")),(0,a.kt)("li",{parentName:"ul"},"Required (or ",(0,a.kt)("inlineCode",{parentName:"li"},"dataProvider"),")")),(0,a.kt)("p",null,"The data object containing locations and flows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"{\n  locations: Iterable<L>;\n  flows: Iterable<F>;\n  clusterLevels?: ClusterLevels;\n}\n")),(0,a.kt)("h4",{id:"dataprovider"},(0,a.kt)("inlineCode",{parentName:"h4"},"dataProvider")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"FlowmapDataProvider<L, F>")),(0,a.kt)("li",{parentName:"ul"},"Required (or ",(0,a.kt)("inlineCode",{parentName:"li"},"data"),")")),(0,a.kt)("p",null,"Alternative to ",(0,a.kt)("inlineCode",{parentName:"p"},"data")," for advanced use cases. A data provider allows for custom data loading strategies."),(0,a.kt)("h4",{id:"filter"},(0,a.kt)("inlineCode",{parentName:"h4"},"filter")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"FilterState")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"undefined"))),(0,a.kt)("p",null,"Filter state to control which flows are displayed:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"interface FilterState {\n  selectedLocations?: (string | number)[];\n  locationFilterMode?: LocationFilterMode;  // 'ALL' | 'INCOMING' | 'OUTGOING' | 'BETWEEN'\n  selectedTimeRange?: [Date, Date];\n}\n")),(0,a.kt)("h3",{id:"display-props"},"Display Props"),(0,a.kt)("h4",{id:"darkmode"},(0,a.kt)("inlineCode",{parentName:"h4"},"darkMode")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("p",null,"Whether to use dark mode colors. When ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),", the color scheme is reversed and location circles use dark backgrounds."),(0,a.kt)("h4",{id:"colorscheme"},(0,a.kt)("inlineCode",{parentName:"h4"},"colorScheme")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"string | string[]")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"'Teal'"))),(0,a.kt)("p",null,"The color scheme for flows. Can be a preset name (see ",(0,a.kt)("a",{parentName:"p",href:"/docs/api/color-schemes"},"Color Schemes"),") or a custom array of colors:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"// Use a preset\ncolorScheme: 'Blues'\n\n// Use a custom scheme\ncolorScheme: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#3182bd', '#08519c']\n")),(0,a.kt)("h4",{id:"fadeamount"},(0,a.kt)("inlineCode",{parentName:"h4"},"fadeAmount")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"number")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"50"))),(0,a.kt)("p",null,"Controls how much lower-magnitude flows fade compared to higher ones. Range: 0-100. Higher values create more contrast between high and low magnitude flows."),(0,a.kt)("h4",{id:"highlightcolor"},(0,a.kt)("inlineCode",{parentName:"h4"},"highlightColor")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"string | number[]")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"'orange'"))),(0,a.kt)("p",null,"Color used for highlighting hovered elements. Can be a CSS color string or RGBA array:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"highlightColor: 'orange'\nhighlightColor: [255, 165, 0, 255]\n")),(0,a.kt)("h4",{id:"opacity"},(0,a.kt)("inlineCode",{parentName:"h4"},"opacity")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"number")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"1"))),(0,a.kt)("p",null,"Overall layer opacity. Range: 0-1."),(0,a.kt)("h3",{id:"feature-toggles"},"Feature Toggles"),(0,a.kt)("h4",{id:"locationsenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"locationsEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("p",null,"Whether to show location circles."),(0,a.kt)("h4",{id:"locationtotalsenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"locationTotalsEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("p",null,"Whether to show incoming/outgoing totals as concentric circles at each location."),(0,a.kt)("h4",{id:"locationlabelsenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"locationLabelsEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"false"))),(0,a.kt)("p",null,"Whether to show text labels at locations."),(0,a.kt)("h4",{id:"animationenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"animationEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"false"))),(0,a.kt)("p",null,"Whether to animate the flows with moving particles along the lines."),(0,a.kt)("h4",{id:"clusteringenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"clusteringEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("p",null,"Whether to cluster nearby locations when zoomed out."),(0,a.kt)("h4",{id:"clusteringauto"},(0,a.kt)("inlineCode",{parentName:"h4"},"clusteringAuto")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("p",null,"Whether to automatically adjust clustering level based on zoom. When ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),", use ",(0,a.kt)("inlineCode",{parentName:"p"},"clusteringLevel")," to set a fixed level."),(0,a.kt)("h4",{id:"clusteringlevel"},(0,a.kt)("inlineCode",{parentName:"h4"},"clusteringLevel")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"number")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"undefined"))),(0,a.kt)("p",null,"Fixed clustering zoom level. Only used when ",(0,a.kt)("inlineCode",{parentName:"p"},"clusteringAuto")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,a.kt)("h4",{id:"fadeenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"fadeEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("p",null,"Whether to apply color fading to lower-magnitude flows."),(0,a.kt)("h4",{id:"fadeopacityenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"fadeOpacityEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"false"))),(0,a.kt)("p",null,"Whether to also fade opacity (in addition to color) for lower-magnitude flows."),(0,a.kt)("h4",{id:"adaptivescalesenabled"},(0,a.kt)("inlineCode",{parentName:"h4"},"adaptiveScalesEnabled")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("p",null,"Whether to adapt flow thickness and color scales to the current viewport. When ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),", scales adjust as you pan/zoom to always show meaningful variation."),(0,a.kt)("h3",{id:"performance"},"Performance"),(0,a.kt)("h4",{id:"maxtopflowsdisplaynum"},(0,a.kt)("inlineCode",{parentName:"h4"},"maxTopFlowsDisplayNum")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"number")),(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("inlineCode",{parentName:"li"},"5000"))),(0,a.kt)("p",null,"Maximum number of flows to display. Flows are sorted by magnitude and only the top N are shown. Increase for denser visualizations (may impact performance)."),(0,a.kt)("h3",{id:"event-handlers"},"Event Handlers"),(0,a.kt)("h4",{id:"onhover"},(0,a.kt)("inlineCode",{parentName:"h4"},"onHover")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"(info: FlowmapLayerPickingInfo | undefined, event: SourceEvent) => void"))),(0,a.kt)("p",null,"Callback fired when hovering over locations or flows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"onHover: (info) => {\n  if (info?.object) {\n    switch (info.object.type) {\n      case 'location':\n        console.log('Hovered location:', info.object.name);\n        console.log('Totals:', info.object.totals);\n        break;\n      case 'flow':\n        console.log('Hovered flow:', info.object.origin.id, '\u2192', info.object.dest.id);\n        console.log('Count:', info.object.count);\n        break;\n    }\n  }\n}\n")),(0,a.kt)("h4",{id:"onclick"},(0,a.kt)("inlineCode",{parentName:"h4"},"onClick")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"(info: FlowmapLayerPickingInfo, event: SourceEvent) => void"))),(0,a.kt)("p",null,"Callback fired when clicking on locations or flows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"onClick: (info) => {\n  if (info.object?.type === 'location') {\n    console.log('Clicked location:', info.object.id);\n  }\n}\n")),(0,a.kt)("h3",{id:"accessor-props"},"Accessor Props"),(0,a.kt)("p",null,"These functions tell the layer how to read your data:"),(0,a.kt)("h4",{id:"location-accessors"},"Location Accessors"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Prop"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Required"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getLocationId")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(loc: L) => string \\| number")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"Returns unique location identifier")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getLocationLat")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(loc: L) => number")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"Returns latitude")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getLocationLon")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(loc: L) => number")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"Returns longitude")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getLocationName")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(loc: L) => string")),(0,a.kt)("td",{parentName:"tr",align:null},"No"),(0,a.kt)("td",{parentName:"tr",align:null},"Returns display name")))),(0,a.kt)("h4",{id:"flow-accessors"},"Flow Accessors"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Prop"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Required"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getFlowOriginId")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(flow: F) => string \\| number")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"Returns origin location ID")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getFlowDestId")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(flow: F) => string \\| number")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"Returns destination location ID")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getFlowMagnitude")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(flow: F) => number")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"Returns flow magnitude/count")))),(0,a.kt)("h2",{id:"pickinginfo-types"},"PickingInfo Types"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"onHover")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"onClick")," callbacks receive a ",(0,a.kt)("inlineCode",{parentName:"p"},"FlowmapLayerPickingInfo")," object:"),(0,a.kt)("h3",{id:"location-picking-info"},"Location Picking Info"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"{\n  type: 'location';\n  location: L;              // Original location object\n  id: string | number;      // Location ID\n  name: string;             // Location name\n  totals: {\n    incomingCount: number;  // Total incoming flow\n    outgoingCount: number;  // Total outgoing flow\n    internalCount: number;  // Internal/self flows\n  };\n  circleRadius: number;     // Rendered circle radius in pixels\n}\n")),(0,a.kt)("h3",{id:"flow-picking-info"},"Flow Picking Info"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"{\n  type: 'flow';\n  flow: F;                  // Original flow object\n  origin: L;                // Origin location object\n  dest: L;                  // Destination location object\n  count: number;            // Flow magnitude\n}\n")),(0,a.kt)("h2",{id:"full-example"},"Full Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import {FlowmapLayer, FlowmapLayerPickingInfo, PickingType} from '@flowmap.gl/layers';\n\nconst layer = new FlowmapLayer({\n  id: 'flowmap-layer',\n  data: {locations, flows},\n\n  // Accessors\n  getLocationId: (loc) => loc.id,\n  getLocationLat: (loc) => loc.lat,\n  getLocationLon: (loc) => loc.lon,\n  getLocationName: (loc) => loc.name,\n  getFlowOriginId: (flow) => flow.origin,\n  getFlowDestId: (flow) => flow.dest,\n  getFlowMagnitude: (flow) => flow.count,\n\n  // Display\n  pickable: true,\n  darkMode: true,\n  colorScheme: 'Teal',\n  fadeAmount: 50,\n  highlightColor: 'orange',\n\n  // Features\n  animationEnabled: false,\n  clusteringEnabled: true,\n  clusteringAuto: true,\n  locationTotalsEnabled: true,\n\n  // Events\n  onHover: (info) => {\n    if (info?.object?.type === PickingType.LOCATION) {\n      console.log('Location:', info.object.name);\n    }\n  },\n  onClick: (info) => {\n    console.log('Clicked:', info.object);\n  },\n});\n")))}u.isMDXComponent=!0}}]);